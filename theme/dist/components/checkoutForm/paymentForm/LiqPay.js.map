{"version":3,"sources":["../../../../src/components/checkoutForm/paymentForm/LiqPay.js"],"names":["scriptAdded","PayPalButton","props","addScript","executeScript","SCRIPT_URL","container","document","body","head","script","createElement","src","onload","appendChild","formSettings","shopSettings","onPayment","LiqPayCheckout","init","data","signature","language","embedTo","mode","on","status","componentDidMount","componentDidUpdate","render","Component"],"mappings":";;;;;;;;;;;;;;;;AAAA;;;;;;AAEA,IAAIA,cAAc,KAAlB;;IACqBC,Y;;;AACpB,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA,6DAClB,4BAAMA,KAAN,CADkB;;AAAA,QAInBC,SAJmB,GAIP,YAAM;AACjB,OAAIH,WAAJ,EAAiB;AAChB,UAAKI,aAAL;AACA;AACA;;AAED,OAAMC,aAAa,4CAAnB;AACA,OAAMC,YAAYC,SAASC,IAAT,IAAiBD,SAASE,IAA5C;AACA,OAAMC,SAASH,SAASI,aAAT,CAAuB,QAAvB,CAAf;AACAD,UAAOE,GAAP,GAAaP,UAAb;AACAK,UAAOG,MAAP,GAAgB,YAAM;AACrB,UAAKT,aAAL;AACA,IAFD;AAGAE,aAAUQ,WAAV,CAAsBJ,MAAtB;AACAV,iBAAc,IAAd;AACA,GAnBkB;;AAAA,QAqBnBI,aArBmB,GAqBH,YAAM;AAAA,qBAC6B,MAAKF,KADlC;AAAA,OACba,YADa,eACbA,YADa;AAAA,OACCC,YADD,eACCA,YADD;AAAA,OACeC,SADf,eACeA,SADf;;;AAGrBC,kBAAeC,IAAf,CAAoB;AACnBC,UAAML,aAAaK,IADA;AAEnBC,eAAWN,aAAaM,SAFL;AAGnBC,cAAUP,aAAaO,QAHJ;AAInBC,aAAS,kBAJU;AAKnBC,UAAM;AALa,IAApB,EAOEC,EAPF,CAOK,iBAPL,EAOwB,UAASL,IAAT,EAAe;AACrC,QAAIA,KAAKM,MAAL,KAAgB,SAApB,EAA+B;AAC9BT;AACA;AACD,IAXF,EAYEQ,EAZF,CAYK,cAZL,EAYqB,UAASL,IAAT,EAAe;AAClC;AACA,IAdF,EAeEK,EAfF,CAeK,cAfL,EAeqB,UAASL,IAAT,EAAe;AAClC;AACA,IAjBF;AAkBA,GA1CkB;;AAAA;AAElB;;wBA0CDO,iB,gCAAoB;AACnB,OAAKxB,SAAL;AACA,E;;wBAEDyB,kB,iCAAqB;AACpB,OAAKxB,aAAL;AACA,E;;wBAEDyB,M,qBAAS;AAAA,eAC0C,KAAK3B,KAD/C;AAAA,MACAa,YADA,UACAA,YADA;AAAA,MACcC,YADd,UACcA,YADd;AAAA,MAC4BC,SAD5B,UAC4BA,SAD5B;;;AAGR,SACC;AAAA;AAAA;AACC,0CAAK,IAAG,iBAAR;AADD,GADD;AAKA,E;;;EA7DwC,gBAAMa,S;;kBAA3B7B,Y","file":"LiqPay.js","sourcesContent":["import React from 'react';\n\nlet scriptAdded = false;\nexport default class PayPalButton extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\taddScript = () => {\n\t\tif (scriptAdded) {\n\t\t\tthis.executeScript();\n\t\t\treturn;\n\t\t}\n\n\t\tconst SCRIPT_URL = 'https://static.liqpay.ua/libjs/checkout.js';\n\t\tconst container = document.body || document.head;\n\t\tconst script = document.createElement('script');\n\t\tscript.src = SCRIPT_URL;\n\t\tscript.onload = () => {\n\t\t\tthis.executeScript();\n\t\t};\n\t\tcontainer.appendChild(script);\n\t\tscriptAdded = true;\n\t};\n\n\texecuteScript = () => {\n\t\tconst { formSettings, shopSettings, onPayment } = this.props;\n\n\t\tLiqPayCheckout.init({\n\t\t\tdata: formSettings.data,\n\t\t\tsignature: formSettings.signature,\n\t\t\tlanguage: formSettings.language,\n\t\t\tembedTo: '#liqpay_checkout',\n\t\t\tmode: 'embed'\n\t\t})\n\t\t\t.on('liqpay.callback', function(data) {\n\t\t\t\tif (data.status === 'success') {\n\t\t\t\t\tonPayment();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('liqpay.ready', function(data) {\n\t\t\t\t// ready\n\t\t\t})\n\t\t\t.on('liqpay.close', function(data) {\n\t\t\t\t// close\n\t\t\t});\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.addScript();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.executeScript();\n\t}\n\n\trender() {\n\t\tconst { formSettings, shopSettings, onPayment } = this.props;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div id=\"liqpay_checkout\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]}