{"version":3,"sources":["../../../src/components/products/custom.js"],"names":["CustomProducts","state","products","fetchProducts","ids","sku","sort","limit","category_id","tags","attributes","price_from","price_to","on_sale","filter","search","fields","offset","Array","isArray","length","forEach","attr","name","value","ajax","list","then","json","isCancelled","setState","data","catch","componentDidMount","props","componentWillReceiveProps","nextProps","componentWillUnmount","render","settings","addCartItem","isCentered","className","columnCountOnMobile","columnCountOnTablet","columnCountOnDesktop","columnCountOnWidescreen","columnCountOnFullhd","Component","propTypes","oneOfType","string","arrayOf","number","isRequired","shape","bool","func","defaultProps"],"mappings":"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","file":"custom.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport api from '../../lib/api';\nimport ProductList from '../productList';\n\nexport default class CustomProducts extends React.Component {\n\tstatic propTypes = {\n\t\tids: PropTypes.oneOfType([\n\t\t\tPropTypes.string,\n\t\t\tPropTypes.arrayOf(PropTypes.string)\n\t\t]),\n\t\tsku: PropTypes.string,\n\t\tsort: PropTypes.string,\n\t\tlimit: PropTypes.number.isRequired,\n\t\tcategory_id: PropTypes.string,\n\t\ttags: PropTypes.string,\n\t\tattributes: PropTypes.arrayOf(\n\t\t\tPropTypes.shape({\n\t\t\t\tname: PropTypes.string.isRequired,\n\t\t\t\tvalue: PropTypes.string.isRequired\n\t\t\t})\n\t\t),\n\t\tprice_from: PropTypes.number,\n\t\tprice_to: PropTypes.number,\n\t\ton_sale: PropTypes.bool,\n\t\tsettings: PropTypes.shape({}).isRequired,\n\t\taddCartItem: PropTypes.func.isRequired,\n\t\tisCentered: PropTypes.bool,\n\t\tclassName: PropTypes.string,\n\t\tcolumnCountOnMobile: PropTypes.number,\n\t\tcolumnCountOnTablet: PropTypes.number,\n\t\tcolumnCountOnDesktop: PropTypes.number,\n\t\tcolumnCountOnWidescreen: PropTypes.number,\n\t\tcolumnCountOnFullhd: PropTypes.number\n\t};\n\n\tstatic defaultProps = {\n\t\tids: null,\n\t\tsku: null,\n\t\tsort: null,\n\t\tcategory_id: null,\n\t\ttags: null,\n\t\tattributes: null,\n\t\tprice_from: null,\n\t\tprice_to: null,\n\t\ton_sale: null,\n\t\tisCentered: true,\n\t\tclassName: 'columns is-multiline is-mobile products',\n\t\tcolumnCountOnMobile: 2,\n\t\tcolumnCountOnTablet: 3,\n\t\tcolumnCountOnDesktop: 4,\n\t\tcolumnCountOnWidescreen: 4,\n\t\tcolumnCountOnFullhd: 4\n\t};\n\n\tstate = {\n\t\tproducts: []\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.isCancelled = false;\n\t\tthis.fetchProducts(this.props);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.fetchProducts(nextProps);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.isCancelled = true;\n\t}\n\n\tfetchProducts = ({\n\t\tids,\n\t\tsku,\n\t\tsort,\n\t\tlimit,\n\t\tcategory_id,\n\t\ttags,\n\t\tattributes,\n\t\tprice_from,\n\t\tprice_to,\n\t\ton_sale\n\t}) => {\n\t\tconst filter = {\n\t\t\tids,\n\t\t\tsku,\n\t\t\ttags,\n\t\t\ton_sale,\n\t\t\tsearch: null,\n\t\t\tcategory_id,\n\t\t\tprice_from,\n\t\t\tprice_to,\n\t\t\tsort,\n\t\t\tfields:\n\t\t\t\t'path,id,name,category_id,category_name,sku,images,enabled,discontinued,stock_status,stock_quantity,price,on_sale,regular_price,attributes,tags',\n\t\t\tlimit: limit || 4,\n\t\t\toffset: 0\n\t\t};\n\n\t\tif (attributes && Array.isArray(attributes) && attributes.length > 0) {\n\t\t\tattributes.forEach(attr => {\n\t\t\t\tfilter[`attributes.${attr.name}`] = attr.value;\n\t\t\t});\n\t\t}\n\n\t\tapi.ajax.products\n\t\t\t.list(filter)\n\t\t\t.then(({ json }) => {\n\t\t\t\tif (!this.isCancelled) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tproducts: json.data\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {});\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tsettings,\n\t\t\taddCartItem,\n\t\t\tisCentered,\n\t\t\tclassName,\n\t\t\tcolumnCountOnMobile,\n\t\t\tcolumnCountOnTablet,\n\t\t\tcolumnCountOnDesktop,\n\t\t\tcolumnCountOnWidescreen,\n\t\t\tcolumnCountOnFullhd\n\t\t} = this.props;\n\n\t\tconst { products } = this.state;\n\n\t\treturn (\n\t\t\t<ProductList\n\t\t\t\tproducts={products}\n\t\t\t\taddCartItem={addCartItem}\n\t\t\t\tsettings={settings}\n\t\t\t\tloadMoreProducts={null}\n\t\t\t\thasMore={false}\n\t\t\t\tcolumnCountOnMobile={columnCountOnMobile}\n\t\t\t\tcolumnCountOnTablet={columnCountOnTablet}\n\t\t\t\tcolumnCountOnDesktop={columnCountOnDesktop}\n\t\t\t\tcolumnCountOnWidescreen={columnCountOnWidescreen}\n\t\t\t\tcolumnCountOnFullhd={columnCountOnFullhd}\n\t\t\t\tisCentered={isCentered}\n\t\t\t\tclassName={className}\n\t\t\t/>\n\t\t);\n\t}\n}\n"]}