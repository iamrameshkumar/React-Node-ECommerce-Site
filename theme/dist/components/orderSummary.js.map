{"version":3,"sources":["../../src/components/orderSummary.js"],"names":["helper","SummaryItem","settings","item","updateCartItemQuantiry","thumbnail","getThumbnailUrl","image_url","cartThumbnailWidth","qtyOptions","maxQty","stock_backorder","maxCartItemQty","stock_quantity","i","optionText","remove","push","path","name","variant_name","length","qty","id","e","target","value","quantity","formatCurrency","price_total","propTypes","shape","isRequired","func","OrderSummary","props","state","cart","items","map","paddingBottom","orderSummary","subtotal","shipping","shipping_total","discount_total","discount","grandTotal","grand_total"],"mappings":"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","file":"orderSummary.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { themeSettings, text } from '../lib/settings';\nimport * as helper from '../lib/helper';\n\nconst SummaryItem = ({ settings, item, updateCartItemQuantiry }) => {\n\tconst thumbnail = helper.getThumbnailUrl(\n\t\titem.image_url,\n\t\tthemeSettings.cartThumbnailWidth\n\t);\n\tconst qtyOptions = [];\n\tconst maxQty = item.stock_backorder\n\t\t? themeSettings.maxCartItemQty\n\t\t: item.stock_quantity >= themeSettings.maxCartItemQty\n\t\t\t? themeSettings.maxCartItemQty\n\t\t\t: item.stock_quantity;\n\n\tfor (let i = 0; i <= maxQty; i++) {\n\t\tconst optionText = i === 0 ? text.remove : i;\n\t\tqtyOptions.push(\n\t\t\t<option key={i} value={i}>\n\t\t\t\t{optionText}\n\t\t\t</option>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"columns is-mobile\">\n\t\t\t<div className=\"column is-3\">\n\t\t\t\t<div className=\"image\">\n\t\t\t\t\t<NavLink to={item.path}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName=\"product-image\"\n\t\t\t\t\t\t\tsrc={thumbnail}\n\t\t\t\t\t\t\talt={item.name}\n\t\t\t\t\t\t\ttitle={item.name}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"column\">\n\t\t\t\t<div>\n\t\t\t\t\t<NavLink to={item.path}>{item.name}</NavLink>\n\t\t\t\t</div>\n\t\t\t\t{item.variant_name.length > 0 && (\n\t\t\t\t\t<div className=\"cart-option-name\">{item.variant_name}</div>\n\t\t\t\t)}\n\t\t\t\t<div className=\"qty\">\n\t\t\t\t\t<span>{text.qty}:</span>\n\t\t\t\t\t<span className=\"select is-small\">\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\tupdateCartItemQuantiry(item.id, e.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={item.quantity}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{qtyOptions}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"column is-3 has-text-right price\">\n\t\t\t\t{helper.formatCurrency(item.price_total, settings)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nSummaryItem.propTypes = {\n\tsettings: PropTypes.shape({}).isRequired,\n\titem: PropTypes.shape({}).isRequired,\n\tupdateCartItemQuantiry: PropTypes.func.isRequired\n};\n\nconst OrderSummary = props => {\n\tconst {\n\t\tupdateCartItemQuantiry,\n\t\tstate: { cart, settings }\n\t} = props;\n\n\tif (cart && cart.items && cart.items.length > 0) {\n\t\tconst items = cart.items.map(item => (\n\t\t\t<SummaryItem\n\t\t\t\tkey={item.id}\n\t\t\t\titem={item}\n\t\t\t\tupdateCartItemQuantiry={updateCartItemQuantiry}\n\t\t\t\tsettings={settings}\n\t\t\t/>\n\t\t));\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"checkout-box content is-small\"\n\t\t\t\tstyle={{ paddingBottom: 0 }}\n\t\t\t>\n\t\t\t\t<div className=\"title is-4\">{text.orderSummary}</div>\n\t\t\t\t<hr className=\"separator\" />\n\t\t\t\t{items}\n\t\t\t\t<div className=\"columns is-mobile is-gapless is-multiline summary-block\">\n\t\t\t\t\t<div className=\"column is-7\">{text.subtotal}</div>\n\t\t\t\t\t<div className=\"column is-5 has-text-right price\">\n\t\t\t\t\t\t{helper.formatCurrency(cart.subtotal, settings)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"column is-7\">{text.shipping}</div>\n\t\t\t\t\t<div className=\"column is-5 has-text-right price\">\n\t\t\t\t\t\t{helper.formatCurrency(cart.shipping_total, settings)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{cart.discount_total > 0 && (\n\t\t\t\t\t\t<div className=\"column is-7\">{text.discount}</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{cart.discount_total > 0 && (\n\t\t\t\t\t\t<div className=\"column is-5 has-text-right price\">\n\t\t\t\t\t\t\t{helper.formatCurrency(cart.discount_total, settings)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<div className=\"column is-12\">\n\t\t\t\t\t\t<hr className=\"separator\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"column is-6 total-text\">{text.grandTotal}</div>\n\t\t\t\t\t<div className=\"column is-6 total-price\">\n\t\t\t\t\t\t{helper.formatCurrency(cart.grand_total, settings)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\treturn null;\n};\n\nOrderSummary.propTypes = {\n\tupdateCartItemQuantiry: PropTypes.func.isRequired,\n\tstate: PropTypes.shape({\n\t\tcart: PropTypes.shape({}),\n\t\tsettings: PropTypes.shape({}).isRequired\n\t}).isRequired\n};\n\nexport default OrderSummary;\n"]}