{"version":3,"sources":["../../../src/components/productDetails/discountCountdown.js"],"names":["DiscountCountdown","props","tick","dateNow","Date","dateTo","product","date_sale_to","diff","Math","abs","floor","getTime","setState","pad","num","state","timer","componentDidMount","setInterval","componentWillUnmount","clearInterval","render","days","leftSec","hrs","min","saleEnds","margin","hours","minutes","seconds","Component"],"mappings":"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","file":"discountCountdown.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { themeSettings, text } from '../../lib/settings';\n\nexport default class DiscountCountdown extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttimer: null,\n\t\t\tdiff: null\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tlet timer = setInterval(this.tick, 1000);\n\t\tthis.setState({\n\t\t\ttimer: timer\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.state.timer);\n\t}\n\n\ttick = () => {\n\t\tconst dateNow = new Date();\n\t\tconst dateTo = new Date(this.props.product.date_sale_to);\n\t\tconst diff = Math.abs(\n\t\t\tMath.floor((dateTo.getTime() - dateNow.getTime()) / 1000)\n\t\t);\n\n\t\tthis.setState({\n\t\t\tdiff: diff\n\t\t});\n\t};\n\n\tpad = num => {\n\t\treturn num < 10 ? '0' + num : num;\n\t};\n\n\trender() {\n\t\tconst { product } = this.props;\n\t\tconst { diff } = this.state;\n\n\t\tif (product) {\n\t\t\tlet days = Math.floor(diff / (24 * 60 * 60));\n\t\t\tlet leftSec = diff - days * 24 * 60 * 60;\n\n\t\t\tlet hrs = Math.floor(leftSec / (60 * 60));\n\t\t\tleftSec = leftSec - hrs * 60 * 60;\n\n\t\t\tlet min = Math.floor(leftSec / 60);\n\t\t\tleftSec = leftSec - min * 60;\n\n\t\t\treturn (\n\t\t\t\t<div className=\"discount-countdown\">\n\t\t\t\t\t<div className=\"discount-title\">{text.saleEnds}:</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"columns is-mobile has-text-centered discount-numbers is-gapless\"\n\t\t\t\t\t\tstyle={{ margin: '8px 0' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"column is-2\">{this.pad(days)}</div>\n\t\t\t\t\t\t<div className=\"column is-1\">:</div>\n\t\t\t\t\t\t<div className=\"column is-2\">{this.pad(hrs)}</div>\n\t\t\t\t\t\t<div className=\"column is-1\">:</div>\n\t\t\t\t\t\t<div className=\"column is-2\">{this.pad(min)}</div>\n\t\t\t\t\t\t<div className=\"column is-1\">:</div>\n\t\t\t\t\t\t<div className=\"column is-2\">{this.pad(leftSec)}</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"columns is-mobile has-text-centered discount-labels is-gapless\">\n\t\t\t\t\t\t<div className=\"column is-2\">{text.days}</div>\n\t\t\t\t\t\t<div className=\"column is-1\" />\n\t\t\t\t\t\t<div className=\"column is-2\">{text.hours}</div>\n\t\t\t\t\t\t<div className=\"column is-1\" />\n\t\t\t\t\t\t<div className=\"column is-2\">{text.minutes}</div>\n\t\t\t\t\t\t<div className=\"column is-1\" />\n\t\t\t\t\t\t<div className=\"column is-2\">{text.seconds}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n"]}