{"version":3,"sources":["../../../src/components/productDetails/quantity.js"],"names":["Quantity","props","handleChange","setQuantity","event","target","value","intQuantity","parseInt","quantity","maxQuantity","setState","onChange","increment","newQuantity","state","decrement","componentWillReceiveProps","nextProps","render","disabled","qty","PureComponent"],"mappings":";;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;IAEqBA,Q;;;AACpB,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA,6DAClB,gCAAMA,KAAN,CADkB;;AAAA,QAanBC,YAbmB,GAaJ,iBAAS;AACvB,SAAKC,WAAL,CAAiBC,MAAMC,MAAN,CAAaC,KAA9B;AACA,GAfkB;;AAAA,QAiBnBH,WAjBmB,GAiBL,oBAAY;AACzB,OAAMI,cAAcC,SAASC,QAAT,CAApB;AACA,OAAIF,cAAc,CAAd,IAAmBA,eAAe,MAAKN,KAAL,CAAWS,WAAjD,EAA8D;AAC7D,UAAKC,QAAL,CAAc,EAAEF,UAAUF,WAAZ,EAAd;AACA,UAAKN,KAAL,CAAWW,QAAX,CAAoBL,WAApB;AACA;AACD,GAvBkB;;AAAA,QAyBnBM,SAzBmB,GAyBP,YAAM;AACjB,OAAMC,cAAc,MAAKC,KAAL,CAAWN,QAAX,GAAsB,CAA1C;AACA,SAAKN,WAAL,CAAiBW,WAAjB;AACA,GA5BkB;;AAAA,QA8BnBE,SA9BmB,GA8BP,YAAM;AACjB,OAAMF,cAAc,MAAKC,KAAL,CAAWN,QAAX,GAAsB,CAA1C;AACA,SAAKN,WAAL,CAAiBW,WAAjB;AACA,GAjCkB;;AAElB,QAAKC,KAAL,GAAa;AACZN,aAAU;AADE,GAAb;AAFkB;AAKlB;;oBAEDQ,yB,sCAA0BC,S,EAAW;AACpC,MAAI,KAAKH,KAAL,CAAWN,QAAX,GAAsBS,UAAUR,WAApC,EAAiD;AAChD,QAAKP,WAAL,CAAiBe,UAAUR,WAA3B;AACA;AACD,E;;oBAwBDS,M,qBAAS;AAAA,MACAT,WADA,GACgB,KAAKT,KADrB,CACAS,WADA;AAAA,MAEAD,QAFA,GAEa,KAAKM,KAFlB,CAEAN,QAFA;;AAGR,MAAMW,WAAWV,gBAAgB,CAAjC;AACA,MAAMJ,QAAQc,WAAW,CAAX,GAAeX,QAA7B;;AAEA,SACC;AAAA;AAAA;AACC;AAAA;AAAA;AAAM,mBAAKY;AAAX,IADD;AAEC;AAAA;AAAA,MAAK,WAAU,kBAAf;AACC,yCAAG,WAAU,WAAb,EAAyB,SAAS,KAAKL,SAAvC,GADD;AAEC;AACC,YAAOV,KADR;AAEC,eAAU,KAAKJ,YAFhB;AAGC,gBAAU,GAHX;AAIC,WAAK,QAJN;AAKC,cAAQ,MALT;AAMC,eAAUkB;AANX,MAFD;AAUC,yCAAG,WAAU,WAAb,EAAyB,SAAS,KAAKP,SAAvC;AAVD;AAFD,GADD;AAiBA,E;;;EA3DoC,gBAAMS,a;;kBAAvBtB,Q","file":"quantity.js","sourcesContent":["import React, { Fragment } from 'react';\nimport { themeSettings, text } from '../../lib/settings';\n\nexport default class Quantity extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tquantity: 1\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (this.state.quantity > nextProps.maxQuantity) {\n\t\t\tthis.setQuantity(nextProps.maxQuantity);\n\t\t}\n\t}\n\n\thandleChange = event => {\n\t\tthis.setQuantity(event.target.value);\n\t};\n\n\tsetQuantity = quantity => {\n\t\tconst intQuantity = parseInt(quantity);\n\t\tif (intQuantity > 0 && intQuantity <= this.props.maxQuantity) {\n\t\t\tthis.setState({ quantity: intQuantity });\n\t\t\tthis.props.onChange(intQuantity);\n\t\t}\n\t};\n\n\tincrement = () => {\n\t\tconst newQuantity = this.state.quantity + 1;\n\t\tthis.setQuantity(newQuantity);\n\t};\n\n\tdecrement = () => {\n\t\tconst newQuantity = this.state.quantity - 1;\n\t\tthis.setQuantity(newQuantity);\n\t};\n\n\trender() {\n\t\tconst { maxQuantity } = this.props;\n\t\tconst { quantity } = this.state;\n\t\tconst disabled = maxQuantity === 0;\n\t\tconst value = disabled ? 0 : quantity;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div>{text.qty}</div>\n\t\t\t\t<div className=\"product-quantity\">\n\t\t\t\t\t<a className=\"decrement\" onClick={this.decrement} />\n\t\t\t\t\t<input\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tmaxLength=\"3\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tpattern=\"\\d*\"\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t/>\n\t\t\t\t\t<a className=\"increment\" onClick={this.increment} />\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n"]}