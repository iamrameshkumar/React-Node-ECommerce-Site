{"version":3,"sources":["../../../../src/components/checkoutForm/paymentForm/PayPalCheckout.js"],"names":["scriptAdded","PayPalButton","props","addScript","executeScript","SCRIPT_URL","container","document","body","head","script","createElement","src","onload","appendChild","formSettings","shopSettings","onPayment","getElementById","innerHTML","paypal","Button","render","env","commit","style","label","size","shape","color","client","sandbox","production","payment","data","actions","create","intent","transactions","custom","order_id","notify_url","amount","total","currency","experience","input_fields","no_shipping","onAuthorize","execute","then","componentDidMount","componentDidUpdate","Component"],"mappings":";;;;;;;;;;;;;;;;AAAA;;;;;;AAEA,IAAIA,cAAc,KAAlB;;IACqBC,Y;;;AACpB,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA,6DAClB,4BAAMA,KAAN,CADkB;;AAAA,QAInBC,SAJmB,GAIP,YAAM;AACjB,OAAIH,WAAJ,EAAiB;AAChB,UAAKI,aAAL;AACA;AACA;;AAED,OAAMC,aAAa,mDAAnB;AACA,OAAMC,YAAYC,SAASC,IAAT,IAAiBD,SAASE,IAA5C;AACA,OAAMC,SAASH,SAASI,aAAT,CAAuB,QAAvB,CAAf;AACAD,UAAOE,GAAP,GAAaP,UAAb;AACAK,UAAOG,MAAP,GAAgB,YAAM;AACrB,UAAKT,aAAL;AACA,IAFD;AAGAE,aAAUQ,WAAV,CAAsBJ,MAAtB;AACAV,iBAAc,IAAd;AACA,GAnBkB;;AAAA,QAqBnBI,aArBmB,GAqBH,YAAM;AAAA,qBAC6B,MAAKF,KADlC;AAAA,OACba,YADa,eACbA,YADa;AAAA,OACCC,YADD,eACCA,YADD;AAAA,OACeC,SADf,eACeA,SADf;;;AAGrBV,YAASW,cAAT,CAAwB,yBAAxB,EAAmDC,SAAnD,GAA+D,IAA/D;;AAEAC,UAAOC,MAAP,CAAcC,MAAd,CACC;AACC;AACAC,SAAKR,aAAaQ,GAFnB,EAEwB;AACvB;AACAC,YAAQ,IAJT;AAKC;AACAC,WAAO;AACNC,YAAO,KADD;AAENC,WAAMZ,aAAaY,IAFb;AAGNC,YAAOb,aAAaa,KAHd;AAINC,YAAOd,aAAac;AAJd,KANR;AAYCC,YAAQ;AACPC,cAAShB,aAAae,MADf;AAEPE,iBAAYjB,aAAae;AAFlB,KAZT;AAgBC;AACAG,aAAS,iBAASC,IAAT,EAAeC,OAAf,EAAwB;AAChC,YAAOA,QAAQF,OAAR,CAAgBG,MAAhB,CAAuB;AAC7BH,eAAS;AACRI,eAAQ,MADA;AAERC,qBAAc,CACb;AACCC,gBAAQxB,aAAayB,QADtB;AAECC,oBAAY1B,aAAa0B,UAF1B;AAGCC,gBAAQ;AACPC,gBAAO5B,aAAa2B,MADb;AAEPE,mBAAU7B,aAAa6B;AAFhB;AAHT,QADa;AAFN,OADoB;AAc7BC,kBAAY;AACXC,qBAAc,EAAEC,aAAa,CAAf;AADH;AAdiB,MAAvB,CAAP;AAkBA,KApCF;AAqCC;AACAC,iBAAa,qBAASd,IAAT,EAAeC,OAAf,EAAwB;AACpC,YAAOA,QAAQF,OAAR,CAAgBgB,OAAhB,GAA0BC,IAA1B,CAA+B,YAAW;AAChDjC;AACA,MAFM,CAAP;AAGA;AA1CF,IADD,EA6CC,0BA7CD;AA+CA,GAzEkB;;AAAA;AAElB;;wBAyEDkC,iB,gCAAoB;AACnB,OAAKhD,SAAL;AACA,E;;wBAEDiD,kB,iCAAqB;AACpB,OAAKhD,aAAL;AACA,E;;wBAEDkB,M,qBAAS;AAAA,eAC0C,KAAKpB,KAD/C;AAAA,MACAa,YADA,UACAA,YADA;AAAA,MACcC,YADd,UACcA,YADd;AAAA,MAC4BC,SAD5B,UAC4BA,SAD5B;;;AAGR,SACC;AAAA;AAAA;AACC,0CAAK,IAAG,yBAAR;AADD,GADD;AAKA,E;;;EA5FwC,gBAAMoC,S;;kBAA3BpD,Y","file":"PayPalCheckout.js","sourcesContent":["import React from 'react';\n\nlet scriptAdded = false;\nexport default class PayPalButton extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\taddScript = () => {\n\t\tif (scriptAdded) {\n\t\t\tthis.executeScript();\n\t\t\treturn;\n\t\t}\n\n\t\tconst SCRIPT_URL = 'https://www.paypalobjects.com/api/checkout.min.js';\n\t\tconst container = document.body || document.head;\n\t\tconst script = document.createElement('script');\n\t\tscript.src = SCRIPT_URL;\n\t\tscript.onload = () => {\n\t\t\tthis.executeScript();\n\t\t};\n\t\tcontainer.appendChild(script);\n\t\tscriptAdded = true;\n\t};\n\n\texecuteScript = () => {\n\t\tconst { formSettings, shopSettings, onPayment } = this.props;\n\n\t\tdocument.getElementById('paypal-button-container').innerHTML = null;\n\n\t\tpaypal.Button.render(\n\t\t\t{\n\t\t\t\t// Set your environment\n\t\t\t\tenv: formSettings.env, // sandbox | production\n\t\t\t\t// Show the buyer a 'Pay Now' button in the checkout flow\n\t\t\t\tcommit: true,\n\t\t\t\t// Specify the style of the button\n\t\t\t\tstyle: {\n\t\t\t\t\tlabel: 'pay',\n\t\t\t\t\tsize: formSettings.size,\n\t\t\t\t\tshape: formSettings.shape,\n\t\t\t\t\tcolor: formSettings.color\n\t\t\t\t},\n\t\t\t\tclient: {\n\t\t\t\t\tsandbox: formSettings.client,\n\t\t\t\t\tproduction: formSettings.client\n\t\t\t\t},\n\t\t\t\t// Wait for the PayPal button to be clicked\n\t\t\t\tpayment: function(data, actions) {\n\t\t\t\t\treturn actions.payment.create({\n\t\t\t\t\t\tpayment: {\n\t\t\t\t\t\t\tintent: 'sale',\n\t\t\t\t\t\t\ttransactions: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcustom: formSettings.order_id,\n\t\t\t\t\t\t\t\t\tnotify_url: formSettings.notify_url,\n\t\t\t\t\t\t\t\t\tamount: {\n\t\t\t\t\t\t\t\t\t\ttotal: formSettings.amount,\n\t\t\t\t\t\t\t\t\t\tcurrency: formSettings.currency\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\texperience: {\n\t\t\t\t\t\t\tinput_fields: { no_shipping: 1 }\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t// Wait for the payment to be authorized by the customer\n\t\t\t\tonAuthorize: function(data, actions) {\n\t\t\t\t\treturn actions.payment.execute().then(function() {\n\t\t\t\t\t\tonPayment();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t'#paypal-button-container'\n\t\t);\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.addScript();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.executeScript();\n\t}\n\n\trender() {\n\t\tconst { formSettings, shopSettings, onPayment } = this.props;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div id=\"paypal-button-container\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]}