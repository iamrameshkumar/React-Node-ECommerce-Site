{"version":3,"sources":["../../../src/containers/UserLogin/loginForm.js"],"names":["LoginForm","onChange","setState","e","target","id","value","handleOpen","open","handleClose","props","history","push","onSubmit","preventDefault","userData","email","state","password","loginUser","checked","errors","componentDidMount","auth","isAuthenticated","componentWillReceiveProps","nextProps","updateCheck","oldState","render","actions","buttonStyle","customContentStyle","floatingLabelStyle","floatingLabelFocusStyle","underlineStyle","bind","checkbox","signUpStyle","loginLink","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","file":"loginForm.js","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport { TextField, RaisedButton, Dialog, Checkbox } from 'material-ui';\n\nimport { loginUser } from '../../actions/authActions';\n\nimport styles from './style';\n\nclass LoginForm extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\topen: true,\n\t\t\tchecked: false,\n\t\t\terrors: {}\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t// If logged in and user navigates to Login page, should redirect them to dashboard\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.auth.isAuthenticated) {\n\t\t\tthis.props.history.push('/');\n\t\t}\n\n\t\tif (nextProps.errors) {\n\t\t\tthis.setState({\n\t\t\t\terrors: nextProps.errors\n\t\t\t});\n\t\t}\n\t}\n\n\tonChange = e => {\n\t\tthis.setState({ [e.target.id]: e.target.value });\n\t};\n\n\thandleOpen = () => {\n\t\tthis.setState({ open: true });\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({ open: false });\n\t\tthis.props.history.push('/');\n\t};\n\n\tupdateCheck() {\n\t\tthis.setState(oldState => {\n\t\t\treturn {\n\t\t\t\tchecked: !oldState.checked\n\t\t\t};\n\t\t});\n\t}\n\n\tonSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst userData = {\n\t\t\temail: this.state.email,\n\t\t\tpassword: this.state.password\n\t\t};\n\n\t\tif (200 === this.props.loginUser(userData)) {\n\t\t\thistory.push('/');\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { errors } = this.state.errors;\n\n\t\tconst actions = [\n\t\t\t<a href=\"#\">Forget My Password</a>,\n\t\t\t<RaisedButton\n\t\t\t\tlabel=\"Cancel\"\n\t\t\t\tonClick={this.handleClose}\n\t\t\t\tsecondary={true}\n\t\t\t\tstyle={styles.buttonStyle}\n\t\t\t/>,\n\t\t\t<RaisedButton\n\t\t\t\tlabel=\"Submit\"\n\t\t\t\tonClick={this.onSubmit}\n\t\t\t\tsecondary={true}\n\t\t\t\tstyle={styles.buttonStyle}\n\t\t\t/>\n\t\t];\n\n\t\treturn (\n\t\t\t<MuiThemeProvider>\n\t\t\t\t<Dialog\n\t\t\t\t\ttitle=\"Sign In To FashionFactory\"\n\t\t\t\t\tactions={actions}\n\t\t\t\t\tmodal={true}\n\t\t\t\t\topen={this.state.open}\n\t\t\t\t\tcontentStyle={styles.customContentStyle}\n\t\t\t\t>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfloatingLabelText=\"Username or Email\"\n\t\t\t\t\t\tfloatingLabelStyle={styles.floatingLabelStyle}\n\t\t\t\t\t\tfloatingLabelFocusStyle={styles.floatingLabelFocusStyle}\n\t\t\t\t\t\tunderlineFocusStyle={styles.underlineStyle}\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tfloatingLabelText=\"Password\"\n\t\t\t\t\t\tfloatingLabelStyle={styles.floatingLabelStyle}\n\t\t\t\t\t\tfloatingLabelFocusStyle={styles.floatingLabelFocusStyle}\n\t\t\t\t\t\tunderlineFocusStyle={styles.underlineStyle}\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tlabel=\"Remember Me\"\n\t\t\t\t\t\tchecked={this.state.checked}\n\t\t\t\t\t\tonCheck={this.updateCheck.bind(this)}\n\t\t\t\t\t\tstyle={styles.checkbox}\n\t\t\t\t\t/>\n\t\t\t\t\t<signUp style={styles.signUpStyle}>\n\t\t\t\t\t\tI don't have an account\n\t\t\t\t\t\t<a href=\"/signup\" style={styles.loginLink}>\n\t\t\t\t\t\t\tSign Up Now\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</signUp>\n\t\t\t\t</Dialog>\n\t\t\t</MuiThemeProvider>\n\t\t);\n\t}\n}\n\nLoginForm.propTypes = {\n\tloginUser: PropTypes.func.isRequired,\n\tauth: PropTypes.object.isRequired,\n\terrors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth,\n\terrors: state.errors\n});\n\nexport default connect(\n\tmapStateToProps,\n\t{ loginUser }\n)(LoginForm);\n"]}