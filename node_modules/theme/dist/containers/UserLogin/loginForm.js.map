{"version":3,"sources":["../../../src/containers/UserLogin/loginForm.js"],"names":["LoginForm","onChange","setState","e","target","id","value","handleOpen","open","handleClose","props","history","push","onSubmit","preventDefault","authenticateUser","state","email","password","checked","errors","componentDidMount","auth","isAuthenticated","componentWillReceiveProps","nextProps","updateCheck","oldState","userData","response","loginUser","status","JsonData","console","log","toString","render","actions","buttonStyle","customContentStyle","floatingLabelStyle","floatingLabelFocusStyle","underlineStyle","bind","checkbox","signUpStyle","loginLink","propTypes","object","isRequired","mapStateToProps"],"mappings":"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","file":"loginForm.js","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport { TextField, RaisedButton, Dialog, Checkbox } from 'material-ui';\n\nimport AuthActions from '../../actions/authActions';\n\nimport styles from './style';\n\nclass LoginForm extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\topen: true,\n\t\t\tchecked: false,\n\t\t\terrors: {}\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t// If logged in and user navigates to Login page, should redirect them to dashboard\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tthis.props.history.push('/');\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.auth.isAuthenticated) {\n\t\t\tthis.props.history.push('/');\n\t\t}\n\n\t\tif (nextProps.errors) {\n\t\t\tthis.setState({\n\t\t\t\terrors: nextProps.errors\n\t\t\t});\n\t\t}\n\t}\n\n\tonChange = e => {\n\t\tthis.setState({ [e.target.id]: e.target.value });\n\t};\n\n\thandleOpen = () => {\n\t\tthis.setState({ open: true });\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({ open: false });\n\t\tthis.props.history.push('/');\n\t};\n\n\tupdateCheck() {\n\t\tthis.setState(oldState => {\n\t\t\treturn {\n\t\t\t\tchecked: !oldState.checked\n\t\t\t};\n\t\t});\n\t}\n\n\tasync authenticateUser() {\n\t\tconst userData = {\n\t\t\temail: this.state.email,\n\t\t\tpassword: this.state.password\n\t\t};\n\n\t\ttry {\n\t\t\tlet response = AuthActions.loginUser(userData);\n\t\t\tif (200 === response.status) {\n\t\t\t\tthis.props.history.push('/');\n\t\t\t} else if (400 == response.status) {\n\t\t\t\tthis.setState({\n\t\t\t\t\terrors: response.JsonData\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log('exception occurred ' + e.toString());\n\t\t}\n\t}\n\n\tonSubmit = e => {\n\t\te.preventDefault();\n\t\tthis.authenticateUser();\n\t};\n\n\trender() {\n\t\tconst { errors } = this.state.errors;\n\n\t\tconst actions = [\n\t\t\t<a href=\"#\">Forget My Password</a>,\n\t\t\t<RaisedButton\n\t\t\t\tlabel=\"Cancel\"\n\t\t\t\tonClick={this.handleClose}\n\t\t\t\tsecondary={true}\n\t\t\t\tstyle={styles.buttonStyle}\n\t\t\t/>,\n\t\t\t<RaisedButton\n\t\t\t\tlabel=\"Submit\"\n\t\t\t\tonClick={this.onSubmit}\n\t\t\t\tsecondary={true}\n\t\t\t\tstyle={styles.buttonStyle}\n\t\t\t/>\n\t\t];\n\n\t\treturn (\n\t\t\t<MuiThemeProvider>\n\t\t\t\t<Dialog\n\t\t\t\t\ttitle=\"Sign In To FashionFactory\"\n\t\t\t\t\tactions={actions}\n\t\t\t\t\tmodal={true}\n\t\t\t\t\topen={this.state.open}\n\t\t\t\t\tcontentStyle={styles.customContentStyle}\n\t\t\t\t>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfloatingLabelText=\"Username or Email\"\n\t\t\t\t\t\tfloatingLabelStyle={styles.floatingLabelStyle}\n\t\t\t\t\t\tfloatingLabelFocusStyle={styles.floatingLabelFocusStyle}\n\t\t\t\t\t\tunderlineFocusStyle={styles.underlineStyle}\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tfloatingLabelText=\"Password\"\n\t\t\t\t\t\tfloatingLabelStyle={styles.floatingLabelStyle}\n\t\t\t\t\t\tfloatingLabelFocusStyle={styles.floatingLabelFocusStyle}\n\t\t\t\t\t\tunderlineFocusStyle={styles.underlineStyle}\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tlabel=\"Remember Me\"\n\t\t\t\t\t\tchecked={this.state.checked}\n\t\t\t\t\t\tonCheck={this.updateCheck.bind(this)}\n\t\t\t\t\t\tstyle={styles.checkbox}\n\t\t\t\t\t/>\n\t\t\t\t\t<signUp style={styles.signUpStyle}>\n\t\t\t\t\t\tI don't have an account\n\t\t\t\t\t\t<a href=\"/signup\" style={styles.loginLink}>\n\t\t\t\t\t\t\tSign Up Now\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</signUp>\n\t\t\t\t</Dialog>\n\t\t\t</MuiThemeProvider>\n\t\t);\n\t}\n}\n\nLoginForm.propTypes = {\n\tauth: PropTypes.object.isRequired,\n\terrors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth,\n\terrors: state.errors\n});\n\nexport default connect(mapStateToProps)(LoginForm);\n"]}