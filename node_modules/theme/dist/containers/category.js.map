{"version":3,"sources":["../../src/containers/category.js"],"names":["helper","getFilterAttributesSummary","attributesSummary","productFilter","attributes","Object","keys","forEach","attributeName","attributeKey","replace","attributeValue","attributeValueFormatted","Array","isArray","join","getFilterPriceSummary","settings","priceSummary","priceFrom","priceTo","formatCurrency","price","CategoryHero","categoryDetails","categories","show_category_breadcrumbs","name","__html","description","propTypes","shape","isRequired","arrayOf","CategoryContainer","setSort","props","addCartItem","loadMoreProducts","getJSONLD","state","products","productsHasMore","loadingProducts","loadingMoreProducts","filterAttributesSummary","filterPriceSummary","pageTitle","meta_title","length","title","jsonld","showFilter","show_product_filter","meta_description","url","image","default_product_sorting","sort","func","bool"],"mappings":"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","file":"category.js","sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { themeSettings, text } from '../lib/settings';\nimport MetaTags from '../components/metaTags';\nimport ProductList from '../components/productList';\nimport ProductFilter from '../components/productFilter';\nimport Sort from '../components/sort';\nimport CategoryBreadcrumbs from '../components/categoryBreadcrumbs';\nimport * as helper from '../lib/helper';\n\nconst getFilterAttributesSummary = productFilter => {\n\tlet attributesSummary = '';\n\tif (productFilter.attributes) {\n\t\tObject.keys(productFilter.attributes).forEach(attributeKey => {\n\t\t\tconst attributeName = attributeKey.replace('attributes.', '');\n\t\t\tconst attributeValue = productFilter.attributes[attributeKey];\n\t\t\tconst attributeValueFormatted = Array.isArray(attributeValue)\n\t\t\t\t? attributeValue.join(', ')\n\t\t\t\t: attributeValue;\n\t\t\tattributesSummary += `. ${attributeName}: ${attributeValueFormatted}`;\n\t\t});\n\t}\n\treturn attributesSummary;\n};\n\nconst getFilterPriceSummary = (productFilter, settings) => {\n\tlet priceSummary = '';\n\tif (productFilter.priceFrom > 0 && productFilter.priceTo > 0) {\n\t\tconst priceFrom = helper.formatCurrency(productFilter.priceFrom, settings);\n\t\tconst priceTo = helper.formatCurrency(productFilter.priceTo, settings);\n\t\tpriceSummary = `. ${text.price}: ${priceFrom} - ${priceTo}`;\n\t}\n\treturn priceSummary;\n};\n\nconst CategoryHero = ({ categoryDetails, categories }) => (\n\t<section className=\"hero is-light\">\n\t\t<div className=\"hero-body\">\n\t\t\t<div className=\"container\">\n\t\t\t\t{themeSettings.show_category_breadcrumbs && (\n\t\t\t\t\t<CategoryBreadcrumbs\n\t\t\t\t\t\tcurrentCategory={categoryDetails}\n\t\t\t\t\t\tcategories={categories}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<h1 className=\"category-title\">{categoryDetails.name}</h1>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"category-description is-hidden-mobile content\"\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: categoryDetails.description }}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</section>\n);\n\nCategoryHero.propTypes = {\n\tcategoryDetails: PropTypes.shape({}).isRequired,\n\tcategories: PropTypes.arrayOf(PropTypes.shape({})).isRequired\n};\n\nconst CategoryContainer = props => {\n\tconst {\n\t\tsetSort,\n\t\taddCartItem,\n\t\tloadMoreProducts,\n\t\tgetJSONLD,\n\t\tstate,\n\t\tstate: {\n\t\t\tproducts,\n\t\t\tcategoryDetails,\n\t\t\tsettings,\n\t\t\tproductFilter,\n\t\t\tproductsHasMore,\n\t\t\tcategories,\n\t\t\tloadingProducts,\n\t\t\tloadingMoreProducts\n\t\t}\n\t} = props;\n\n\tconst filterAttributesSummary = getFilterAttributesSummary(productFilter);\n\tconst filterPriceSummary = getFilterPriceSummary(productFilter, settings);\n\n\tconst pageTitle =\n\t\tcategoryDetails.meta_title && categoryDetails.meta_title.length > 0\n\t\t\t? categoryDetails.meta_title\n\t\t\t: categoryDetails.name;\n\tconst title = `${pageTitle}${filterAttributesSummary}${filterPriceSummary}`;\n\n\tconst jsonld = getJSONLD(state);\n\n\tconst showFilter = themeSettings.show_product_filter;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<MetaTags\n\t\t\t\ttitle={title}\n\t\t\t\tdescription={categoryDetails.meta_description}\n\t\t\t\tcanonicalUrl={categoryDetails.url}\n\t\t\t\timageUrl={categoryDetails.image}\n\t\t\t\togType=\"product.group\"\n\t\t\t\togTitle={categoryDetails.name}\n\t\t\t\togDescription={categoryDetails.meta_description}\n\t\t\t\tjsonld={jsonld}\n\t\t\t/>\n\n\t\t\t<CategoryHero categoryDetails={categoryDetails} categories={categories} />\n\n\t\t\t<section className=\"section section-category\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"columns\">\n\t\t\t\t\t\t{showFilter === true && (\n\t\t\t\t\t\t\t<div className=\"column is-one-quarter left-sidebar\">\n\t\t\t\t\t\t\t\t<ProductFilter {...props} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t\t<div className=\"columns is-hidden-mobile\">\n\t\t\t\t\t\t\t\t<div className=\"column\" />\n\t\t\t\t\t\t\t\t<div className=\"column is-5\">\n\t\t\t\t\t\t\t\t\t<Sort\n\t\t\t\t\t\t\t\t\t\tdefaultSort={settings.default_product_sorting}\n\t\t\t\t\t\t\t\t\t\tcurrentSort={productFilter.sort}\n\t\t\t\t\t\t\t\t\t\tsetSort={setSort}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ProductList\n\t\t\t\t\t\t\t\tproducts={products}\n\t\t\t\t\t\t\t\taddCartItem={addCartItem}\n\t\t\t\t\t\t\t\tsettings={settings}\n\t\t\t\t\t\t\t\tloadMoreProducts={loadMoreProducts}\n\t\t\t\t\t\t\t\thasMore={productsHasMore}\n\t\t\t\t\t\t\t\tloadingProducts={loadingProducts}\n\t\t\t\t\t\t\t\tloadingMoreProducts={loadingMoreProducts}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</Fragment>\n\t);\n};\n\nCategoryContainer.propTypes = {\n\tsetSort: PropTypes.func.isRequired,\n\taddCartItem: PropTypes.func.isRequired,\n\tloadMoreProducts: PropTypes.func.isRequired,\n\tgetJSONLD: PropTypes.func.isRequired,\n\tstate: PropTypes.shape({\n\t\tsettings: PropTypes.shape({}),\n\t\tproducts: PropTypes.arrayOf(PropTypes.shape({})),\n\t\tproductFilter: PropTypes.shape({}),\n\t\tproductsHasMore: PropTypes.bool,\n\t\tcategoryDetails: PropTypes.shape({}),\n\t\tcategories: PropTypes.arrayOf(PropTypes.shape({})),\n\t\tloadingProducts: PropTypes.bool,\n\t\tloadingMoreProducts: PropTypes.bool\n\t}).isRequired\n};\n\nexport default CategoryContainer;\n"]}