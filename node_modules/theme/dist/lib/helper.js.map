{"version":3,"sources":["../../src/lib/helper.js"],"names":["formatNumber","number","settings","x","floatNumber","parseFloat","re","decimal_number","num","toFixed","Math","max","floor","decimal_separator","replace","RegExp","thousand_separator","amountPattern","formatCurrency","currency_format","getThumbnailUrl","originalUrl","width","length","pos","lastIndexOf","thumbnailUrl","substring","getParentIds","categories","id","categoryId","parentIds","parentExists","category","find","item","parent_id","push","getProductBreadcrumbs","product","category_id","ids","index","breadcrumbs","reverse","map","path","name","filter","getCategoryBreadcrumbs","currentCategoryId","getShippingMethodFromOrder","order","shippingMethods","shipping_method_id","method","getFieldLabelByKey","key","fullName","address1","address2","postal_code","phone","company","mobile","city","comments","getShippingFieldLabel","label","getCheckoutFieldLabel"],"mappings":"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","file":"helper.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { text } from './settings';\n\nexport const formatNumber = (number, settings) => {\n\tconst x = 3;\n\tconst floatNumber = parseFloat(number || 0) || 0;\n\n\tconst re = `\\\\d(?=(\\\\d{${x}})+${settings.decimal_number > 0 ? '\\\\D' : '$'})`;\n\n\tconst num = floatNumber.toFixed(\n\t\tMath.max(0, Math.floor(settings.decimal_number))\n\t);\n\n\treturn (settings.decimal_separator\n\t\t? num.replace('.', settings.decimal_separator)\n\t\t: num\n\t).replace(new RegExp(re, 'g'), `$&${settings.thousand_separator}`);\n};\n\nconst amountPattern = '{amount}';\nexport const formatCurrency = (number = 0, settings) =>\n\tsettings.currency_format.replace(\n\t\tamountPattern,\n\t\tformatNumber(number, settings)\n\t);\n\nexport const getThumbnailUrl = (originalUrl, width) => {\n\tif (originalUrl && originalUrl.length > 0) {\n\t\tconst pos = originalUrl.lastIndexOf('/');\n\t\tconst thumbnailUrl = `${originalUrl.substring(\n\t\t\t0,\n\t\t\tpos\n\t\t)}/${width}/${originalUrl.substring(pos + 1)}`;\n\t\treturn thumbnailUrl;\n\t}\n\treturn '';\n};\n\nexport const getParentIds = (categories, id) => {\n\tlet categoryId = id;\n\tconst parentIds = [];\n\tlet parentExists = false;\n\n\tdo {\n\t\tconst category = categories.find(item => item.id === categoryId);\n\t\tparentExists = category && category.parent_id;\n\t\tif (parentExists) {\n\t\t\tparentIds.push(category.parent_id);\n\t\t\tcategoryId = category.parent_id;\n\t\t}\n\t} while (parentExists);\n\n\treturn parentIds;\n};\n\nexport const getProductBreadcrumbs = (product, categories) => {\n\tif (product && product.category_id) {\n\t\tconst ids = [product.category_id];\n\t\tconst parentIds = getParentIds(categories, product.category_id);\n\t\tids.push(...parentIds);\n\n\t\tlet index = 0;\n\t\tconst breadcrumbs = ids\n\t\t\t.reverse()\n\t\t\t.map(categoryId => {\n\t\t\t\tconst category = categories.find(item => item.id === categoryId);\n\t\t\t\tif (category) {\n\t\t\t\t\tindex += 1;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t<NavLink to={category.path}>{category.name}</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t})\n\t\t\t.filter(item => !!item);\n\n\t\treturn breadcrumbs;\n\t}\n\treturn null;\n};\n\nexport const getCategoryBreadcrumbs = (currentCategoryId, categories) => {\n\tif (currentCategoryId) {\n\t\tconst ids = getParentIds(categories, currentCategoryId);\n\n\t\tlet index = 0;\n\t\tconst breadcrumbs = ids\n\t\t\t.reverse()\n\t\t\t.map(categoryId => {\n\t\t\t\tconst category = categories.find(item => item.id === categoryId);\n\t\t\t\tif (category) {\n\t\t\t\t\tindex += 1;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t<NavLink to={category.path}>{category.name}</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t})\n\t\t\t.filter(item => !!item);\n\n\t\treturn breadcrumbs;\n\t}\n\treturn null;\n};\n\nexport const getShippingMethodFromOrder = (order, shippingMethods) => {\n\tif (\n\t\torder &&\n\t\torder.shipping_method_id &&\n\t\tshippingMethods &&\n\t\tshippingMethods.length > 0\n\t) {\n\t\treturn shippingMethods.find(\n\t\t\tmethod => method.id === order.shipping_method_id\n\t\t);\n\t}\n\treturn null;\n};\n\nexport const getFieldLabelByKey = key => {\n\tswitch (key) {\n\t\tcase 'full_name':\n\t\t\treturn text.fullName;\n\t\tcase 'address1':\n\t\t\treturn text.address1;\n\t\tcase 'address2':\n\t\t\treturn text.address2;\n\t\tcase 'postal_code':\n\t\t\treturn text.postal_code;\n\t\tcase 'phone':\n\t\t\treturn text.phone;\n\t\tcase 'company':\n\t\t\treturn text.company;\n\t\tcase 'mobile':\n\t\t\treturn text.mobile;\n\t\tcase 'city':\n\t\t\treturn text.city;\n\t\tcase 'comments':\n\t\t\treturn text.comments;\n\t\tdefault:\n\t\t\treturn '';\n\t}\n};\n\nexport const getShippingFieldLabel = ({ label, key }) =>\n\tlabel && label.length > 0 ? label : getFieldLabelByKey(key);\n\nexport const getCheckoutFieldLabel = ({ label, name }) =>\n\tlabel && label.length > 0 ? label : getFieldLabelByKey(name);\n"]}