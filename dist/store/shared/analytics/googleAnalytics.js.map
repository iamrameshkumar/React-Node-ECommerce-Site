{"version":3,"sources":["../../../../src/store/shared/analytics/googleAnalytics.js"],"names":["event","PAGE_VIEW","VIEW_ITEM","BEGIN_CHECKOUT","SEARCH","ADD_TO_CART","REMOVE_FROM_CART","SET_CHECKOUT_OPTION","PURCHASE","pageView","path","title","logEvent","eventName","eventParameters","page_path","page_title","viewItem","product","productData","id","sku","length","name","category","category_name","price","toString","items","addToCart","item","cart","cartItem","find","e","product_id","variant_id","gaItem","variant","variant_name","quantity","removeFromCart","itemId","setCheckoutOption","step","option","value","checkout_step","checkout_option","search","searchText","search_term","beginCheckout","order","gaItems","map","gaPurchase","transaction_id","number","grand_total","purchase","tax","tax_total","shipping","shipping_price","isGtagInstalled","gtag"],"mappings":"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","file":"googleAnalytics.js","sourcesContent":["const event = {\n\tPAGE_VIEW: 'page_view',\n\tVIEW_ITEM: 'view_item',\n\tBEGIN_CHECKOUT: 'begin_checkout',\n\tSEARCH: 'search',\n\tADD_TO_CART: 'add_to_cart',\n\tREMOVE_FROM_CART: 'remove_from_cart',\n\tSET_CHECKOUT_OPTION: 'set_checkout_option',\n\tPURCHASE: 'purchase'\n};\n\nexport const pageView = ({ path, title }) => {\n\tlogEvent({\n\t\teventName: event.PAGE_VIEW,\n\t\teventParameters: {\n\t\t\tpage_path: path,\n\t\t\tpage_title: title\n\t\t}\n\t});\n};\n\nexport const viewItem = ({ product }) => {\n\tconst productData = {\n\t\tid: product.sku && product.sku.length > 0 ? product.sku : product.id,\n\t\tname: product.name,\n\t\tcategory: product.category_name,\n\t\tprice: product.price.toString()\n\t};\n\n\tlogEvent({\n\t\teventName: event.VIEW_ITEM,\n\t\teventParameters: {\n\t\t\titems: [productData]\n\t\t}\n\t});\n};\n\nexport const addToCart = ({ item, cart }) => {\n\tconst cartItem =\n\t\tcart && cart.items && cart.items.length > 0\n\t\t\t? cart.items.find(\n\t\t\t\t\te =>\n\t\t\t\t\t\te.product_id === item.product_id && e.variant_id == item.variant_id\n\t\t\t  )\n\t\t\t: null;\n\tif (!cartItem) {\n\t\treturn;\n\t}\n\n\tconst gaItem = {\n\t\tid:\n\t\t\tcartItem.sku && cartItem.sku.length > 0\n\t\t\t\t? cartItem.sku\n\t\t\t\t: cartItem.product_id,\n\t\tname: cartItem.name,\n\t\tprice: cartItem.price.toString(),\n\t\tvariant: cartItem.variant_name,\n\t\tquantity: item.quantity\n\t};\n\n\tlogEvent({\n\t\teventName: event.ADD_TO_CART,\n\t\teventParameters: {\n\t\t\titems: [gaItem]\n\t\t}\n\t});\n};\n\nexport const removeFromCart = ({ itemId, cart }) => {\n\tconst cartItem =\n\t\tcart && cart.items && cart.items.length > 0\n\t\t\t? cart.items.find(e => e.id === itemId)\n\t\t\t: null;\n\tif (!cartItem) {\n\t\treturn;\n\t}\n\n\tconst gaItem = {\n\t\tid:\n\t\t\tcartItem.sku && cartItem.sku.length > 0\n\t\t\t\t? cartItem.sku\n\t\t\t\t: cartItem.product_id,\n\t\tname: cartItem.name,\n\t\tprice: cartItem.price.toString(),\n\t\tvariant: cartItem.variant_name,\n\t\tquantity: cartItem.quantity\n\t};\n\n\tlogEvent({\n\t\teventName: event.REMOVE_FROM_CART,\n\t\teventParameters: {\n\t\t\titems: [gaItem]\n\t\t}\n\t});\n};\n\nexport const setCheckoutOption = ({ step, option, value }) => {\n\tlogEvent({\n\t\teventName: event.SET_CHECKOUT_OPTION,\n\t\teventParameters: {\n\t\t\tcheckout_step: step,\n\t\t\tcheckout_option: option,\n\t\t\tvalue: value\n\t\t}\n\t});\n};\n\nexport const search = ({ searchText }) => {\n\tlogEvent({\n\t\teventName: event.SEARCH,\n\t\teventParameters: {\n\t\t\tsearch_term: searchText\n\t\t}\n\t});\n};\n\nexport const beginCheckout = ({ order }) => {\n\tconst gaItems = order.items.map(item => ({\n\t\tid: item.sku && item.sku.length > 0 ? item.sku : item.product_id,\n\t\tname: item.name,\n\t\tprice: item.price.toString(),\n\t\tvariant: item.variant_name,\n\t\tquantity: item.quantity\n\t}));\n\n\tconst gaPurchase = {\n\t\ttransaction_id: order.number,\n\t\tvalue: order.grand_total,\n\t\titems: gaItems\n\t};\n\n\tlogEvent({\n\t\teventName: event.BEGIN_CHECKOUT,\n\t\teventParameters: gaPurchase\n\t});\n};\n\nexport const purchase = ({ order }) => {\n\tconst gaItems = order.items.map(item => ({\n\t\tid: item.sku && item.sku.length > 0 ? item.sku : item.product_id,\n\t\tname: item.name,\n\t\tprice: item.price.toString(),\n\t\tvariant: item.variant_name,\n\t\tquantity: item.quantity\n\t}));\n\n\tconst gaPurchase = {\n\t\ttransaction_id: order.number,\n\t\tvalue: order.grand_total,\n\t\ttax: order.tax_total.toString(),\n\t\tshipping: order.shipping_price.toString(),\n\t\titems: gaItems\n\t};\n\n\tlogEvent({\n\t\teventName: event.PURCHASE,\n\t\teventParameters: gaPurchase\n\t});\n};\n\nconst isGtagInstalled = () => {\n\treturn typeof gtag !== 'undefined';\n};\n\nconst logEvent = ({ eventName, eventParameters }) => {\n\tif (isGtagInstalled()) {\n\t\tgtag('event', eventName, eventParameters);\n\t}\n};\n"]}