{"version":3,"sources":["../../../src/store/shared/containerProps.js"],"names":["setQuery","history","query","location","newLocation","pathname","stringify","push","mapStateToProps","state","ownProps","app","mapDispatchToProps","dispatch","addCartItem","item","deleteCartItem","item_id","updateCartItemQuantiry","quantity","updateCart","data","callback","checkout","loadMoreProducts","loadShippingMethods","loadPaymentMethods","setSearch","parse","search","setSort","sort","setPriceFromAndTo","priceFrom","priceTo","price_from","price_to","setPriceFrom","setPriceTo","setFilterAttribute","name","value","queryKey","Array","isArray","unsetFilterAttribute","values","filter","v","undefined","setLocation","path","goBack","length","getJSONLD"],"mappings":"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","file":"containerProps.js","sourcesContent":["import queryString from 'query-string';\nimport { getJSONLD } from './lib/jsonld';\nimport {\n\taddCartItem,\n\tdeleteCartItem,\n\tupdateCartItemQuantiry,\n\tfetchMoreProducts,\n\tsetSort,\n\tfetchShippingMethods,\n\tfetchPaymentMethods,\n\tupdateCart,\n\tcheckout\n} from './actions';\n\nconst setQuery = (history, query) => {\n\tif (history && history.location) {\n\t\tconst newLocation =\n\t\t\thistory.location.pathname + '?' + queryString.stringify(query);\n\t\thistory.push(newLocation);\n\t}\n};\n\nexport const mapStateToProps = (state, ownProps) => {\n\treturn {\n\t\tstate: state.app\n\t};\n};\n\nexport const mapDispatchToProps = (dispatch, ownProps) => {\n\treturn {\n\t\taddCartItem: item => {\n\t\t\tdispatch(addCartItem(item));\n\t\t},\n\t\tdeleteCartItem: item_id => {\n\t\t\tdispatch(deleteCartItem(item_id));\n\t\t},\n\t\tupdateCartItemQuantiry: (item_id, quantity) => {\n\t\t\tdispatch(updateCartItemQuantiry(item_id, quantity));\n\t\t},\n\t\tupdateCart: (data, callback) => {\n\t\t\tdispatch(updateCart(data, callback));\n\t\t},\n\t\tcheckout: data => {\n\t\t\tdispatch(checkout(data, ownProps.history));\n\t\t},\n\t\tloadMoreProducts: () => {\n\t\t\tdispatch(fetchMoreProducts());\n\t\t},\n\t\tloadShippingMethods: () => {\n\t\t\tdispatch(fetchShippingMethods());\n\t\t},\n\t\tloadPaymentMethods: () => {\n\t\t\tdispatch(fetchPaymentMethods());\n\t\t},\n\t\tsetSearch: search => {\n\t\t\tconst query = queryString.parse(ownProps.history.location.search);\n\t\t\tquery.search = search;\n\t\t\tsetQuery(ownProps.history, query);\n\t\t},\n\t\tsetSort: sort => {\n\t\t\tdispatch(setSort(sort));\n\t\t},\n\t\tsetPriceFromAndTo: (priceFrom, priceTo) => {\n\t\t\tconst query = queryString.parse(ownProps.history.location.search);\n\t\t\tquery.price_from = priceFrom;\n\t\t\tquery.price_to = priceTo;\n\t\t\tsetQuery(ownProps.history, query);\n\t\t},\n\t\tsetPriceFrom: priceFrom => {\n\t\t\tconst query = queryString.parse(ownProps.history.location.search);\n\t\t\tquery.price_from = priceFrom;\n\t\t\tsetQuery(ownProps.history, query);\n\t\t},\n\t\tsetPriceTo: priceTo => {\n\t\t\tconst query = queryString.parse(ownProps.history.location.search);\n\t\t\tquery.price_to = priceTo;\n\t\t\tsetQuery(ownProps.history, query);\n\t\t},\n\t\tsetFilterAttribute: (name, value) => {\n\t\t\tlet query = queryString.parse(ownProps.history.location.search);\n\t\t\tconst queryKey = `attributes.${name}`;\n\n\t\t\tif (query[queryKey]) {\n\t\t\t\tif (Array.isArray(query[queryKey])) {\n\t\t\t\t\tquery[queryKey].push(value);\n\t\t\t\t} else {\n\t\t\t\t\tquery[queryKey] = [query[queryKey], value];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tquery[queryKey] = [value];\n\t\t\t}\n\n\t\t\tsetQuery(ownProps.history, query);\n\t\t},\n\t\tunsetFilterAttribute: (name, value) => {\n\t\t\tlet query = queryString.parse(ownProps.history.location.search);\n\t\t\tconst queryKey = `attributes.${name}`;\n\t\t\tconst values = query[queryKey];\n\n\t\t\tif (values) {\n\t\t\t\tif (Array.isArray(values)) {\n\t\t\t\t\tquery[queryKey] = values.filter(v => v !== value);\n\t\t\t\t} else {\n\t\t\t\t\tquery[queryKey] = undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetQuery(ownProps.history, query);\n\t\t},\n\t\tsetLocation: path => {\n\t\t\townProps.history.push(path);\n\t\t},\n\t\tgoBack: () => {\n\t\t\tif (ownProps.history.length > 0) {\n\t\t\t\townProps.history.goBack();\n\t\t\t}\n\t\t},\n\t\tgetJSONLD: state => {\n\t\t\treturn getJSONLD(state);\n\t\t}\n\t};\n};\n"]}