{"version":3,"sources":["../../../src/store/shared/app.js"],"names":["SwitchContainers","props","componentWillReceiveProps","nextProps","setCurrentPage","location","pathnameChanged","pathname","queryChanged","search","isSearchPage","scrollToTop","duration","delay","smooth","render","history","currentPage","locationPathname","type","Component","mapStateToProps","state","ownProps","app","mapDispatchToProps","dispatch","SwitchContainersConnected","App"],"mappings":";;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;AACA;;;;IAEMA,gB;;;AACL,2BAAYC,KAAZ,EAAmB;AAAA;AAAA,wDAClB,4BAAMA,KAAN,CADkB;AAElB;;4BAEDC,yB,sCAA0BC,S,EAAW;AACpC,OAAKF,KAAL,CAAWG,cAAX,CAA0BD,UAAUE,QAApC;;AAEA,MAAIF,UAAUE,QAAV,IAAsB,KAAKJ,KAAL,CAAWI,QAArC,EAA+C;AAC9C,OAAMC,kBACLH,UAAUE,QAAV,CAAmBE,QAAnB,KAAgC,KAAKN,KAAL,CAAWI,QAAX,CAAoBE,QADrD;AAEA,OAAMC,eACLL,UAAUE,QAAV,CAAmBI,MAAnB,KAA8B,KAAKR,KAAL,CAAWI,QAAX,CAAoBI,MADnD;AAEA,OAAMC,eAAeP,UAAUE,QAAV,CAAmBE,QAAnB,KAAgC,SAArD;;AAEA,OAAID,mBAAoBE,gBAAgBE,YAAxC,EAAuD;AACtD,+BAAcC,WAAd,CAA0B;AACzBC,eAAU,GADe;AAEzBC,YAAO,GAFkB;AAGzBC,aAAQ;AAHiB,KAA1B;AAKA;AACD;AACD,E;;4BAEDC,M,qBAAS;AAAA,eACmC,KAAKd,KADxC;AAAA,MACAe,OADA,UACAA,OADA;AAAA,MACSX,QADT,UACSA,QADT;AAAA,MACmBY,WADnB,UACmBA,WADnB;;AAER,MAAMC,mBACLb,YAAYA,SAASE,QAArB,GAAgCF,SAASE,QAAzC,GAAoD,GADrD;;AAGA,UAAQU,YAAYE,IAApB;AACC;AACC,WAAO,sDAAP;AACD;AACC,WAAO,uDAAP;AACD;AACC,WAAO,qDAAP;AACD;AACC,QAAID,qBAAqB,QAArB,IAAiCA,qBAAqB,SAA1D,EAAqE;AACpE,YAAO,wDAAP;AACA,KAFD,MAEO,IAAIA,qBAAqB,SAAzB,EAAoC;AAC1C,YAAO,yDAAP;AACA,KAFM,MAEA,IAAIA,qBAAqB,GAAzB,EAA8B;AACpC,YAAO,oDAAP;AACA,KAFM,MAEA,IAAIA,qBAAqB,WAAzB,EAAsC;AAC5C,YAAO,uDAAP;AACA;AACD,QAAIA,qBAAqB,mBAAzB,EAA8C;AAC7C,YAAO,8DAAP;AACA,KAFD,MAEO;AACN,YAAO,mDAAP;AACA;AACF;AACC,WAAO,uDAAP;AAvBF;AAyBA,E;;;EAvD6B,gBAAME,S;;AA0DrC,IAAMC,kBAAkB,SAAlBA,eAAkB,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAC5C,QAAO;AACNN,eAAaK,MAAME,GAAN,CAAUP;AADjB,EAAP;AAGA,CAJD;;AAMA,IAAMQ,qBAAqB,SAArBA,kBAAqB,CAACC,QAAD,EAAWH,QAAX,EAAwB;AAClD,QAAO;AACNnB,kBAAgB,kCAAY;AAC3BsB,YAAS,6BAAerB,QAAf,CAAT;AACA;AAHK,EAAP;AAKA,CAND;;AAQA,IAAMsB,4BAA4B,yBACjCN,eADiC,EAEjCI,kBAFiC,EAGhCzB,gBAHgC,CAAlC;;AAKA,IAAM4B,MAAM,SAANA,GAAM;AAAA,QACX;AAAA;AAAA;AACC,sDAAO,WAAWD,yBAAlB;AADD,EADW;AAAA,CAAZ;;kBAMeC,G","file":"app.js","sourcesContent":["import React from 'react';\nimport { Route } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { animateScroll } from 'react-scroll';\n\nimport IndexContainer from './containers/index';\nimport SharedContainer from './containers/shared';\nimport CategoryContainer from './containers/category';\nimport ProductContainer from './containers/product';\nimport PageContainer from './containers/page';\nimport CheckoutContainer from './containers/checkout';\nimport CheckoutSuccessContainer from './containers/checkoutSuccess';\nimport NotFoundContainer from './containers/notfound';\nimport SearchContainer from './containers/search';\nimport LoginContainer from './containers/UserLogin/loginForm';\nimport SignupContainer from './containers/Signup/SignupForm';\n\nimport { setCurrentPage } from './actions';\nimport { PAGE, PRODUCT_CATEGORY, PRODUCT, RESERVED, SEARCH } from './pageTypes';\n\nclass SwitchContainers extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.props.setCurrentPage(nextProps.location);\n\n\t\tif (nextProps.location && this.props.location) {\n\t\t\tconst pathnameChanged =\n\t\t\t\tnextProps.location.pathname !== this.props.location.pathname;\n\t\t\tconst queryChanged =\n\t\t\t\tnextProps.location.search !== this.props.location.search;\n\t\t\tconst isSearchPage = nextProps.location.pathname === '/search';\n\n\t\t\tif (pathnameChanged || (queryChanged && isSearchPage)) {\n\t\t\t\tanimateScroll.scrollToTop({\n\t\t\t\t\tduration: 500,\n\t\t\t\t\tdelay: 100,\n\t\t\t\t\tsmooth: true\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { history, location, currentPage } = this.props;\n\t\tconst locationPathname =\n\t\t\tlocation && location.pathname ? location.pathname : '/';\n\n\t\tswitch (currentPage.type) {\n\t\t\tcase PRODUCT:\n\t\t\t\treturn <ProductContainer />;\n\t\t\tcase PRODUCT_CATEGORY:\n\t\t\t\treturn <CategoryContainer />;\n\t\t\tcase SEARCH:\n\t\t\t\treturn <SearchContainer />;\n\t\t\tcase PAGE:\n\t\t\t\tif (locationPathname === '/login' || locationPathname === '/signin') {\n\t\t\t\t\treturn <LoginContainer />;\n\t\t\t\t} else if (locationPathname === '/signup') {\n\t\t\t\t\treturn <SignupContainer />;\n\t\t\t\t} else if (locationPathname === '/') {\n\t\t\t\t\treturn <IndexContainer />;\n\t\t\t\t} else if (locationPathname === '/checkout') {\n\t\t\t\t\treturn <CheckoutContainer />;\n\t\t\t\t}\n\t\t\t\tif (locationPathname === '/checkout-success') {\n\t\t\t\t\treturn <CheckoutSuccessContainer />;\n\t\t\t\t} else {\n\t\t\t\t\treturn <PageContainer />;\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn <NotFoundContainer />;\n\t\t}\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\treturn {\n\t\tcurrentPage: state.app.currentPage\n\t};\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n\treturn {\n\t\tsetCurrentPage: location => {\n\t\t\tdispatch(setCurrentPage(location));\n\t\t}\n\t};\n};\n\nconst SwitchContainersConnected = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SwitchContainers);\n\nconst App = () => (\n\t<SharedContainer>\n\t\t<Route component={SwitchContainersConnected} />\n\t</SharedContainer>\n);\n\nexport default App;\n"]}